{"version":3,"file":"run.js","sourceRoot":"","sources":["../../../../../src/cli/commands/theme/update/run.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,qCAAqC,CAAA;AAC9D,OAAO,EAAC,UAAU,EAAC,MAAM,mBAAmB,CAAA;AAC5C,OAAO,EAAC,GAAG,EAAC,MAAM,iCAAiC,CAAA;AACnD,OAAO,EAAC,gBAAgB,EAAC,MAAM,mCAAmC,CAAA;AAClE,OAAO,EAAC,WAAW,EAAC,MAAM,2BAA2B,CAAA;AACrD,OAAO,EAAC,yBAAyB,EAAC,MAAM,+BAA+B,CAAA;AACvE,OAAO,EAAC,KAAK,EAAC,MAAM,aAAa,CAAA;AAEjC,MAAqB,SAAU,SAAQ,YAAY;IAwBjD,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;QAC3C,MAAM,KAAK,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAA;QACrC,MAAM,YAAY,GAAG,MAAM,yBAAyB,CAAC,KAAK,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAA;QAE3E,MAAM,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,CAAA;IAChC,CAAC;;AA7BM,qBAAW,GAAG,+BAA+B,CAAA;AAC7C,gBAAM,GAAG,IAAI,CAAA;AAEb,eAAK,GAAG;IACb,GAAG,WAAW;IACd,IAAI,EAAE,UAAU,CAAC,IAAI;IACrB,KAAK,EAAE,UAAU,CAAC,KAAK;IACvB,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC;QACnB,WAAW,EAAE,iDAAiD;QAC9D,GAAG,EAAE,qBAAqB;KAC3B,CAAC;IACF,YAAY,EAAE,KAAK,CAAC,MAAM,CAAC;QACzB,WAAW,EAAE,4DAA4D;QACzE,GAAG,EAAE,2BAA2B;QAChC,QAAQ,EAAE,IAAI;KACf,CAAC;IACF,UAAU,EAAE,KAAK,CAAC,MAAM,CAAC;QACvB,WAAW,EAAE,0DAA0D;QACvE,GAAG,EAAE,2BAA2B;QAChC,QAAQ,EAAE,IAAI;KACf,CAAC;CACH,CAAA;eAtBkB,SAAS","sourcesContent":["import ThemeCommand from '../../../utilities/theme-command.js'\nimport {themeFlags} from '../../../flags.js'\nimport {run} from '../../../services/update/run.js'\nimport {ensureThemeStore} from '../../../utilities/theme-store.js'\nimport {globalFlags} from '@shopify/cli-kit/node/cli'\nimport {ensureAuthenticatedThemes} from '@shopify/cli-kit/node/session'\nimport {Flags} from '@oclif/core'\n\nexport default class UpdateRun extends ThemeCommand {\n  static description = `Run the theme update process.`\n  static hidden = true\n\n  static flags = {\n    ...globalFlags,\n    path: themeFlags.path,\n    store: themeFlags.store,\n    script: Flags.string({\n      description: `The path to the 'update_extension.json' script.`,\n      env: 'SHOPIFY_FLAG_SCRIPT',\n    }),\n    'from-theme': Flags.string({\n      description: 'The theme ID or name of the theme at the previous version.',\n      env: 'SHOPIFY_FLAG_SOURCE_THEME',\n      required: true,\n    }),\n    'to-theme': Flags.string({\n      description: 'The theme ID or name of the theme at the target version.',\n      env: 'SHOPIFY_FLAG_TARGET_THEME',\n      required: true,\n    }),\n  }\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(UpdateRun)\n    const store = ensureThemeStore(flags)\n    const adminSession = await ensureAuthenticatedThemes(store, flags.password)\n\n    await run(adminSession, flags)\n  }\n}\n"]}